{{-- 変更後のコード --}}

@extends('layouts.game_stages')
{{-- @extends('layouts.app')  --}}

{{-- 固有script呼び出し --}}
@push('scripts')
    @vite(['resources/js/game_stages.js'])
    {{-- ゲーム開始時のmodal --}}
    @vite(['resources/js/game_start_modal.js'])
    
    {{-- 画面共通フォント --}}
    @vite(['resources/sass/app.scss', 'resources/js/app.js'])
@endpush

{{-- 固有css呼び出し --}}
@push('styles')
    @vite(['resources/css/common.css'])

    @vite(['resources/css/game_stages.css'])
    {{-- ゲーム開始時のmodal --}}
    @vite(['resources/css/game_start_modal.css'])
@endpush

{{-- 内容 --}}
@section('content')

{{-- 六角形作成 --}}
<div class="stage-area">

    {{-- ステージ --}}
    <div id="stage-info">Stage: 1</div>

    {{-- 六角形作成 --}}
    <div class="circle-container" id="circle">

        <div class="hex-bg" aria-hidden="true">

            <svg viewBox="0 0 774 754" xmlns="http://www.w3.org/2000/svg">

                <path d="M250.642 32.7646L268.663 7.73543C271.482 3.82035 276.012 1.5 280.836 1.5H325.867C330.467 1.5 334.813 3.61049 337.657 7.22574L358.148 33.2743C360.992 36.8895 365.338 39 369.937 39H408.097C413.127 39 417.823 41.5218 420.601 45.7156L438.203 72.2844C440.982 76.4782 445.677 79 450.708 79H478.097C483.127 79 487.823 76.4782 490.601 72.2844L508.203 45.7156C510.982 41.5218 515.677 39 520.708 39H569.582C574.621 39 579.323 41.5296 582.099 45.7341L608.205 85.2659C610.982 89.4704 615.684 92 620.722 92H651.018C656.092 92 660.822 94.5647 663.59 98.8168L688.662 137.334C691.727 142.042 691.904 148.067 689.122 152.946L667.947 190.09C665.028 195.21 665.378 201.564 668.841 206.333L687.69 232.29C691.292 237.249 691.514 243.901 688.251 249.089L668.345 280.743C665.188 285.763 665.285 292.173 668.594 297.096L679.794 313.759C682.242 317.402 686.163 319.79 690.524 320.293L728.666 324.694C733.092 325.205 737.063 327.657 739.501 331.386L764.5 369.62C767.65 374.438 767.765 380.634 764.795 385.566L746.959 415.188C743.761 420.498 744.159 427.229 747.961 432.125L768.963 459.173C772.449 463.663 773.098 469.738 770.638 474.863L748.737 520.491C746.24 525.692 740.983 529 735.214 529H691.928C686.777 529 681.986 531.643 679.239 536L659.066 568C656.319 572.357 651.528 575 646.377 575H609.75C604.425 575 599.498 577.824 596.807 582.419L585.641 601.482C582.614 606.651 582.952 613.126 586.502 617.952L606.51 645.151C610.207 650.175 610.408 656.963 607.015 662.198L582.087 700.658C579.321 704.925 574.583 707.5 569.499 707.5H532.309C526.952 707.5 522.002 710.357 519.321 714.996L501.983 745.004C499.303 749.643 494.353 752.5 488.995 752.5H440.18C435.165 752.5 430.481 749.993 427.699 745.82L406.605 714.18C403.823 710.007 399.14 707.5 394.125 707.5H359.145C353.876 707.5 348.994 704.736 346.283 700.217L326.522 667.283C323.811 662.764 318.928 660 313.659 660H292.145C286.876 660 281.994 662.764 279.283 667.283L259.522 700.217C256.811 704.736 251.928 707.5 246.659 707.5H203.994C198.807 707.5 193.988 704.82 191.251 700.414L170.553 667.086C167.817 662.68 162.998 660 157.811 660H117.235C111.652 660 106.531 656.899 103.943 651.951L83.4887 612.836C81.1009 608.27 81.224 602.798 83.8147 598.344L104.062 563.533C106.613 559.146 106.774 553.767 104.488 549.236L84.033 508.684C81.3682 503.402 82.058 497.046 85.7941 492.457L101.575 473.077C105.53 468.22 106.051 461.418 102.882 456.016L90.4994 434.91C87.8066 430.32 82.8832 427.5 77.5615 427.5H35.1897C29.3699 427.5 24.0753 424.134 21.6064 418.863L2.91656 378.968C0.867359 374.594 1.0501 369.5 3.40752 365.284L21.3162 333.255C23.99 328.473 23.844 322.614 20.9352 317.971L4.57639 291.86C1.55881 287.043 1.52271 280.935 4.48316 276.083L31.267 232.187C33.9907 227.723 38.8425 225 44.0716 225H78.7663C83.4234 225 87.8162 222.837 90.6557 219.146L116.649 185.354C119.488 181.663 123.881 179.5 128.538 179.5H157.617C162.909 179.5 167.809 176.712 170.512 172.162L183.077 151.017C185.343 147.203 185.805 142.581 184.338 138.394L168.921 94.4014C167.2 89.4904 168.148 84.0384 171.424 79.9957L200.15 44.555C202.998 41.0411 207.28 39 211.803 39H238.469C243.293 39 247.823 36.6796 250.642 32.7646Z" fill="#FCC436" stroke="#EFA111" stroke-width="3"/>

            </svg>

        </div> 

    </div>
</div>



{{-- 移動ボタン --}}
<div class="controls">

    <div class="arrows">

        <button id="prev" class="arrow-btn">
            <svg viewBox="0 0 30 30" class="arrow-icon" aria-hidden="true">
                <path d="M14.8438 29.6878L1.12057e-05 14.844L14.8438 0.000266552L18.5085 3.63663L9.9716 12.1736H29.233V17.5145H9.9716L18.5085 26.0372L14.8438 29.6878Z"/>
            </svg>            
        </button>
    
        <button id="next" class="arrow-btn">
            <svg viewBox="0 0 30 30" class="arrow-icon" aria-hidden="true">
                <path d="M14.3891 -0.000266403L29.2329 14.8435L14.3891 29.6872L10.7244 26.0509L19.2613 17.5139L-5.72205e-05 17.5139V12.173H19.2613L10.7244 3.6503L14.3891 -0.000266403Z"/>
            </svg>
        </button>

    </div>    

</div>

    {{-- モーダル差し込み --}}
    <div id="start-modal-root"></div>

    {{-- controllerから得たデータを受け取り、加工し、resources/js/game_stages.jsで使用 --}}
    <script>
        // ステージ移動ためのurl配列
        window.stage_urls = @json($stages);

        // console.log('stage_urls', stage_urls);

        // 各ステージのid配列
        window.played_stage_ids = @json($played_stage_ids);

        // console.log('played_stage_ids', played_stage_ids);
    </script>
